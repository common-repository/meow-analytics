(()=>{var e,t={1399:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{getActivityPerMinutes:()=>bt,getRealtimeActivity:()=>Et,getUsersSessionsViews:()=>wt});var a={};r.r(a),r.d(a,{getActivityPerMinutes:()=>jt,getRealtimeActivity:()=>Tt,getUsersSessionsViews:()=>kt});var o,i,c,l,s,u=r(5072),f=r(7665),h=r(2564),p=r(9270),m=r(7097),y=r(4977),d=r(7039),g=r(4536),v=r(5263),w=r(6913),b=r(9309),E=r(4547),R=r(3676),S=r(9296),_=r(4461),x=r(6488),I=(mga_meow_analytics.prefix,mga_meow_analytics.domain,mga_meow_analytics.rest_url.replace(/\/+$/,"")),O=mga_meow_analytics.api_url.replace(/\/+$/,""),k=mga_meow_analytics.plugin_url.replace(/\/+$/,""),j=("1"===mga_meow_analytics.is_pro&&mga_meow_analytics.is_registered,mga_meow_analytics.rest_nonce),T=mga_meow_analytics.site_url.replace(/\/+$/,""),A=mga_meow_analytics.redirect_url.replace(/\/+$/,""),L=mga_meow_analytics.auth_url.replace(/\/+$/,""),N=r(197),P=r(9616);function G(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D=P.Ay.div(o||(o=G(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),C=(0,P.Ay)(_.z)(i||(i=G(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 15px;\n\n    h2 {\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 10px;\n      font-size: 13px;\n      line-height: 1.5;\n    }\n\n    .plugin-actual-desc {\n      font-size: 13px;\n      font-weight: 500;\n    }\n  }\n"]))),M=P.Ay.img(c||(c=G(["\n  height: 125px;\n  width: auto;\n  border-radius: 10px;\n  background: lightgray;\n"]))),Y=P.Ay.div(l||(l=G(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),F=P.Ay.ul(s||(s=G(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function V(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */V=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==U(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(U(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function X(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function H(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){z(o,n,a,i,c,"next",e)}function c(e){z(o,n,a,i,c,"throw",e)}i(void 0)}))}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=wp.element,$=K.useState,J=K.useEffect,Q="".concat(I,"/meow-common/v1"),Z=function(e){var t=e.request,r=e.title,n=e.max,a=W($(!1),2),o=a[0],i=a[1],c=W($([]),2),l=c[0],s=c[1],u=l.length>0?l.reduce((function(e,t){return e+t})):0,f=l.length>0?Math.ceil(u/l.length):0,h=!l.length&&o;J((function(){o&&setTimeout(H(V().mark((function e(){var r,n,a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),e.next=3,(0,x.IU)("".concat(Q,"/").concat(t),{method:"POST",nonce:j});case 3:n=(new Date).getTime(),a=n-r,s((function(e){return[].concat(X(e),[a])}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]);return React.createElement(D,{style:{width:200,textAlign:"center"}},React.createElement(y.s,{h2:!0,style:{color:"white"}},r),React.createElement(N.X,{size:200,value:h?n:f,max:n},React.createElement("span",{style:{fontSize:20}},h?"START":f+" ms"),React.createElement("span",{style:{fontSize:12}},h?"YOUR ENGINE":l.length+" requests")),React.createElement(S.M,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||s([]),i(!o)}},o?"Stop":"Start"))};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ne=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ee(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ee(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function ae(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function oe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ae(o,n,a,i,c,"next",e)}function c(e){ae(o,n,a,i,c,"throw",e)}i(void 0)}))}}var ie=wp.element,ce=ie.useState,le=ie.useEffect;O&&I&&k||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var se="".concat(I,"/meow-common/v1"),ue=React.createElement(D,null,React.createElement(y.s,{p:!0,style:{lineHeight:"1.5",margin:"0 0 15px 0"}},"Hi! â˜€ï¸ Meow Apps isn't your typical plugin suiteâ€”it's a passion project led by me, ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", and a stellar team! ðŸ’• Based in ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Japan"),", we're all about making your WordPress experience smoother and speedier. Our plugins are all about boosting your site's performance and user-friendliness. Ready to level up your WordPress game? Check out ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps")," and let's make magic happen! ðŸŒ´ðŸ™€")),fe=React.createElement(D,null,React.createElement(y.s,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),he=React.createElement(D,null,React.createElement(y.s,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),pe=function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.IU)("".concat(se,"/all_settings/"),{method:"POST",nonce:j});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=oe(ne().mark((function e(t){var r,n,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,n=t.id,e.next=3,(0,x.IU)("".concat(se,"/update_option"),{method:"POST",nonce:j,json:{name:n,value:r}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.IU)("".concat(se,"/error_logs"),{method:"POST",nonce:j});case 2:return t=e.sent,e.abrupt("return",t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,f.jE)(),t=te(ce(!1),2),r=t[0],n=t[1],a=te(ce(!1),2),o=a[0],i=(a[1],te(ce(""),2)),c=i[0],l=i[1],s=(0,p.I)({queryKey:["all_settings"],queryFn:pe}),u=s.data,h=s.error,x=(s.isLoading,(0,m.n)({mutationFn:me,onSuccess:function(){e.invalidateQueries(["all_settings"])}}).mutate),I=(0,m.n)({mutationFn:ye}),O=I.mutate,k=I.data,j=void 0===k?[]:k,T=null==u?void 0:u.meowapps_hide_meowapps,A=null==u?void 0:u.force_sslverify;le((function(){h&&!r&&(n(!0),console.error("Error from useQuery",h.message))}),[h]),le((function(){var e=document.getElementById("meow-common-phpinfo");l(e.innerHTML)}),[]);var L=function(e,t){x({value:e,id:t})},N=React.createElement(d.d,{title:"Main Menu"},React.createElement(g.E,{max:"1"},React.createElement(v.R,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(y.s,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings â†’ General."),value:"1",disabled:o,checked:T,onChange:L}))),P=React.createElement(d.d,{title:"SSL Verify"},React.createElement(g.E,{max:"1"},React.createElement(v.R,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(y.s,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:o,checked:A,onChange:L})));return React.createElement(w.z,{showRestError:r},React.createElement(b.n,{title:"The Dashboard"}),React.createElement(E.N,null,React.createElement(E.Y,{full:!0},React.createElement(R._,{keepTabOnReload:!0},React.createElement(R.V,{title:"Meow Apps"},ue,React.createElement(E.N,null,React.createElement(E.Y,{minimal:!0},React.createElement(C,{title:"AI Engine",className:"primary"},React.createElement(M,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",{className:"plugin-actual-desc"},"This is the ultimate AI plugin for WordPress. From a chatbot adapted to your needs to an AI that can write your content for you, API, REST, and more."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/"},"Meow Apps"))))),React.createElement(C,{title:"Media Cleaner",className:"primary"},React.createElement(M,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Is your Media Library bloated, your database heavy, and your website running slow? Media Cleaner will clean your Media Library from the media entries (and files) which aren't used in your website, as well as broken entries."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-cleaner/"},"Meow Apps"))))),React.createElement(C,{title:"Database Cleaner",className:"primary"},React.createElement(M,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins. It's a must-have for any WordPress site."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/database-cleaner/"},"Meow Apps"))))),React.createElement(C,{title:"Media File Renamer",className:"primary"},React.createElement(M,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",{className:"plugin-actual-desc"},"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk. It's the best way to rename your files."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-file-renamer/"},"Meow Apps"))))),React.createElement(C,{title:"Social Engine",className:"primary"},React.createElement(M,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",{className:"plugin-actual-desc"},'Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite className="plugin-actual-desc" extensibility, for free!'),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/social-engine/"},"Meow Apps"))))),React.createElement(C,{title:"Meow Analytics",className:"primary"},React.createElement(M,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",{className:"plugin-actual-desc"},"Google Analytics for your website. Simple and fast."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-analytics/"},"Meow Apps")))))),React.createElement(E.Y,{minimal:!0},React.createElement(C,{title:"Contact Form Block",className:"primary"},React.createElement(M,{src:"https://ps.w.org/seo-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"SEO Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Optimize your content for SEO and for the AI world, with AI assistants... while keeping everything simple and fast, as it should be! âœŒï¸"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/seo-engine/"},"Meow Apps"))))),React.createElement(C,{title:"Meow Gallery",className:"primary"},React.createElement(M,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",{className:"plugin-actual-desc"},"Fast and beautiful galleries with many layouts. Forget the heavy and slow plugins, use the Meow Gallery for a better experience! ðŸ’•"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-gallery/"},"Meow Apps"))))),React.createElement(C,{title:"Meow Lightbox",className:"primary"},React.createElement(M,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.gif"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",{className:"plugin-actual-desc"},"Sleek and performant lightbox with EXIF support."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-lightbox/"},"Meow Apps"))))),React.createElement(C,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(M,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",{className:"plugin-actual-desc"},"Manage, Optimize, Replace your images with Perfect Images."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wp-retina-2x/"},"Meow Apps"))))),React.createElement(C,{title:"Photo Engine",className:"primary"},React.createElement(M,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Organize your photos in folders and collections. Synchronize with Lightroom. Simplify and speed up your workflow."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wplr-sync/"},"Meow Apps"))))),React.createElement(C,{title:"Contact Form Block",className:"primary"},React.createElement(M,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",{className:"plugin-actual-desc"},"Need a very simple but straightforward contact form? This is the one you need. It's fast, simple, and efficient."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/contact-form-block/"},"Meow Apps")))))))),React.createElement(R.V,{title:"Performance"},fe,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(Z,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(Z,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(Z,{title:"SQL Request Time",request:"sql_request",max:2800})),he),React.createElement(R.V,{title:"PHP Info"},React.createElement(Y,{dangerouslySetInnerHTML:{__html:c}})),React.createElement(R.V,{title:"PHP Error Logs"},React.createElement(D,null,React.createElement(S.M,{style:{marginBottom:10},color:"#ccb027",onClick:function(){O()},disabled:o,isBusy:"isLoadingErrorLogs"===o},"Load PHP Error Logs"),React.createElement(F,null,j.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(y.s,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(R.V,{title:"Settings"},React.createElement(_.z,{title:"Settings",className:"primary"},N,P))))))};function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ve(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=be(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function we(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Re(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Re=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ge(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ge(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function Se(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function _e(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Se(o,n,a,i,c,"next",e)}function c(e){Se(o,n,a,i,c,"throw",e)}i(void 0)}))}}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==ge(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===ge(o)?o:String(o)),n)}var a,o}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ke(e);if(t){var a=ke(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}const je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(p,wp.element.Component);var t,r,n,a,o,i,c,l,s,u,f,h=Oe(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=h.call(this,e)).state={connected:!1,error:!1,trackingId:meowAnalytics.tracking_id,propertyId:meowAnalytics.property_id,expiresAt:meowAnalytics.expires_at,accessToken:meowAnalytics.access_token,isGA4:meowAnalytics.tracking_id.length>0&&"G-"===meowAnalytics.tracking_id.substring(0,2)},t}return t=p,r=[{key:"componentDidMount",value:function(){var e=this;meowAnalytics.refreshToken=function(){return e.refreshToken()},this.state.isGA4?gapi.analytics.ready((function(){return e.initGoogleAnalytics4()})):gapi.analytics.ready((function(){return e.initGoogleAnalytics()}))}},{key:"initGoogleAnalytics4",value:(f=_e(Re().mark((function e(){var t,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=(r=this.props).onSigningIn)||void 0===t||t.call(r),this.state.accessToken){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,gapi.client.setToken({access_token:this.state.accessToken}),this.props.onSignIn(this.state.propertyId,!0),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(3),console.error("ERROR",{message:e.t0.result.error.message}),this.setState({error:e.t0.result.error.message}),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return f.apply(this,arguments)})},{key:"initGoogleAnalytics",value:(u=_e(Re().mark((function e(){var t,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=(r=this.props).onSigningIn)||void 0===t||t.call(r),!this.state.accessToken){e.next=6;break}return gapi.analytics.auth.authorize({serverAuth:{access_token:this.state.accessToken}}),e.next=5,this.findViewId();case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getAccounts",value:(s=_e(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){gapi.client.analytics.management.accounts.list().execute((function(r){if(r.error)t(r.error);else{var n=r.username,a=r.items.map((function(e){return{accountId:e.id,accountName:e.name}}));meowAnalytics.debug_mode&&console.log("Meow Analytics: Account loaded.",n,a),e({username:n,accounts:a})}}))})));case 1:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"getWebProperties",value:(l=_e(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){gapi.client.analytics.management.webproperties.list({accountId:t}).execute((function(t){var n;if(t.error)r(t.error);else{var a=t.items.map((function(e){return{webPropertyId:e.id,accountId:e.accountId,name:e.name}}));(n=console).log.apply(n,["WebProperties"].concat(we(a))),e(a)}}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"getViews",value:(c=_e(Re().mark((function e(t,r){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){gapi.client.analytics.management.profiles.list({accountId:t,webPropertyId:r}).execute((function(a){if(a.error)n(a.error);else{var o=a.items.map((function(e){return{viewId:e.id,accountId:t,webPropertyId:r}}));e(o)}}))})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"findViewId",value:(i=_e(Re().mark((function e(){var t,r,n,a,o,i,c,l,s,u,f,h=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="meow-analytics-"+this.state.trackingId,r=localStorage.getItem(t);try{r=JSON.parse(r)}catch(e){r=null}if(r){e.next=44;break}return e.next=6,this.getAccounts();case 6:n=e.sent,a=n.username,o=n.accounts,i=[],c=ve(o),e.prev=11,c.s();case 13:if((l=c.n()).done){e.next=25;break}return s=l.value,e.t0=i.push,e.t1=i,e.t2=we,e.next=20,this.getWebProperties(s.accountId);case 20:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 23:e.next=13;break;case 25:e.next=30;break;case 27:e.prev=27,e.t5=e.catch(11),c.e(e.t5);case 30:return e.prev=30,c.f(),e.finish(30);case 33:if(u=i.find((function(e){return e.webPropertyId===h.state.trackingId}))){e.next=38;break}return alert("Could not found the Tracking Id "+this.state.trackingId+" under this account."),console.log("Tracking Id",this.state.trackingId,"Properties",i),e.abrupt("return",!1);case 38:return e.next=40,this.getViews(u.accountId,u.webPropertyId);case 40:f=e.sent,meowAnalytics.debug_mode&&console.log("Meow Analytics: Found ViewID.",f[0]),r={username:a,viewId:f[0].viewId},localStorage.setItem(t,JSON.stringify(r));case 44:return meowAnalytics.debug_mode&&console.log("Meow Analytics: Ready.",this.state),this.setState({connected:!0}),this.props.onSignIn(r.viewId,!1),this.checkIfTokenExpires(),e.abrupt("return",!0);case 49:case"end":return e.stop()}}),e,this,[[11,27,30,33]])}))),function(){return i.apply(this,arguments)})},{key:"refreshToken",value:(o=_e(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jQuery.post(ajaxurl,{action:"mga_refresh_token"});case 2:return t=e.sent,t=JSON.parse(t),meowAnalytics.expires_at=t.expires_at,meowAnalytics.access_token=t.access_token,this.setState({trackingId:t.tracking_id,expiresAt:t.expires_at,accessToken:t.access_token}),gapi.client.setToken({access_token:t.access_token}),e.next=10,this.getAccounts();case 10:if(e.sent.username){e.next=13;break}return e.abrupt("return",!1);case 13:return meowAnalytics.debug_mode&&console.log("Meow Analytics: Token updated.",this.state),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"checkIfTokenExpires",value:(a=_e(Re().mark((function e(){var t,r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.connected){e.next=2;break}return e.abrupt("return");case 2:if(t=(new Date).getTime()/1e3,!(this.state.expiresAt-t<300)){e.next=11;break}return e.next=7,this.refreshToken();case 7:if(e.sent){e.next=11;break}return console.log("Meow Analytics: Failed to refresh, will not retry."),e.abrupt("return");case 11:setTimeout((function(){return r.checkIfTokenExpires()}),3e4);case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){return this.state.error?React.createElement("div",{style:{color:"red",fontWeight:"bold"}},this.state.error):React.createElement("div",null)}}],r&&xe(t.prototype,r),n&&xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}();var Te=r(4353),Ae=r.n(Te),Le=r(5090),Ne=wp.element.Fragment;const Pe=function(e){var t=e.error,r=e.reset;return React.createElement(Ne,null,t&&t.message&&React.createElement("div",null,React.createElement("p",null,"Received an error:"),React.createElement("pre",{style:{whiteSpace:"inherit"}},t.message)),t&&!t.message&&React.createElement("div",null,React.createElement("p",null,t)),t&&React.createElement("div",{className:"button",onClick:r},"Try again"))};var Ge=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},De=wp.i18n.__,Ce={};Ce.COMMON={PLUGIN_NAME:De("Meow Analytics","meow-analytics"),SETTINGS:De("Settings","meow-analytics"),BY_JORDY_MEOW:De("By Jordy Meow","meow-analytics")},Ce.SETTINGS={ANALYTICS_ID:De("Analytics ID","meow-analytics"),ANALYTICS_ID_DESCRIPTION:De("Tracking ID or Measurement ID (G4).","meow-analytics"),ANALYTICS_ID_PLACEHOLDER:De("UA-XXXXXXXX-X or G-XXXXXXXXXX","meow-analytics"),PROPERTY_ID:De("Property ID","meow-analytics"),PROPERTY_ID_PLACEHOLDER:De("XXXXXXXXX(Numeric)","meow-analytics"),EXTRA_IDS:De("Extra IDs","meow-analytics"),EXTRA_IDS_DESCRIPTION:De("Extra Tracking IDs (for Google Ads, for example). You can add more than one ID separated by comma.","meow-analytics"),EXTRA_IDS_PLACEHOLDER:De("AW-XXXXXXXXX","meow-analytics"),LOGGED_IN_USERS:De("Logged-in Users","meow-analytics"),LOGGED_IN_USERS_LABEL:De("Track","meow-analytics"),LOGGED_IN_USERS_DESCRIPTION:De("The logged-in users (except editors and admins) will be also tracked.","meow-analytics"),EDITORS_ADMINS:De("Editors & Admins","meow-analytics"),EDITORS_ADMINS_LABEL:De("Track","meow-analytics"),EDITORS_ADMINS_DESCRIPTION:De("The editors and admins will be also tracked.","meow-analytics"),TRACKING:De("Tracking","meow-analytics"),TRACKING_LABEL:De("Turn Off","meow-analytics"),TRACKING_DESCRIPTION:De("Disable the tracking completely. The features related to the dashboard can still be used.","meow-analytics"),CLIENT_ID:De("Client ID","meow-analytics"),CLIENT_ID_PLACEHOLDER:De("XXXXX-XXXX.apps.googleusercontent.com","meow-analytics"),CLIENT_SECRET:De("Client Secret","meow-analytics"),STATUS_IDLE:De("If you would like to view your Google Analytics data from your WordPress Dashboard, you will need to link this website with Google Analytics. If you don't know how to do this, <a target='_blank' href='https://meowapps.com/plugin/meow-analytics/'>check the tutorial</a>.","meow-analytics"),STATUS_READY_DISCRIPTION:De("<b>Meow Analytics is ready to link your website to Google Analytics through your Client ID.</b><br />In the settings of <a target='_blank' href='https://console.developers.google.com/apis/credentials'>your Client ID</a>, make sure you have enabled the Google Analytics API in <i>Library</i>, and that following settings are set accordingly.","meow-analytics"),AUTHORIZED_JAVASCRIPT_ORIGINS:De("Authorized JavaScript origins:","meow-analytics"),AUTHORIZED_REDIRECT_URIS:De("Authorized redirect URIs:","meow-analytics"),LINK_WITH_GOOGLE_ANALYTICS:De("Link this website with Google Analytics","meow-analytics"),STATUS_CONNECTED_DISCRIPTION:De("Everything is well :) Your website is connected to the Google Analytics API.","meow-analytics"),REFRESH_TOKEN:De("Refresh Token","meow-analytics"),UNLINK:De("Unlink","meow-analytics"),DESCRIPTION:De("You only need the <b>Tracking ID</b> or <b>Measurement ID</b> related to your website, which you can get from <a href='https://analytics.google.com/analytics/web/'>Google Analytics</a>. Then, you can check if it works by using <a href='http://www.gachecker.com/?site=http://meow-apps.local'>GA Checker</a> (it is free, don't worry). The Client ID and Secret are only required if you would like to view the Analytics Charts in the WordPress Dashboard.","meow-analytics"),SETTINGS:De("Settings","meow-analytics"),GOOGLE_ANALYTICS:De("Google Analytics","meow-analytics"),ADVANCED:De("Advanced","meow-analytics"),GOOGLE_DEVELOPERS_CONSOLE:De("Google Developers Console","meow-analytics")},Ce.ANALYTICS={NO_DATA_FOUND:De("No data found","meow-analytics"),UNKNOWN_ERROR:De("Unknown error","meow-analytics"),USERS:De("Users","meow-analytics"),SESSIONS:De("Sessions","meow-analytics"),VIEWS:De("Views","meow-analytics")},Ce.DASHBOARD={HISTORICAL:De("Historical","meow-analytics"),REALTIME:De("Realtime","meow-analytics")},Ce.HISTORICAL={TWENTY_FOUR_HOURS:De("24 hours","meow-analytics"),ONE_WEEK:De("1 week","meow-analytics"),ONE_MONTH:De("1 month","meow-analytics"),SIX_MONTH:De("6 month","meow-analytics"),ONE_YEAR:De("1 year","meow-analytics"),TEN_YEARS:De("10 years","meow-analytics")},Ce.REALTIME={ACTIVE_USERS_ON_SITE:De("active users on site","meow-analytics"),STREAM_NAME:De("Stream Name","meow-analytics"),PAGE:De("Page","meow-analytics"),USERS:De("Users","meow-analytics")};const Me=Ce;function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}var Fe=["label","onClick"];function Ue(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ue=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ye(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Ye(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function Ve(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ye(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var $e=wp.element,Je=$e.useState,Qe=$e.useEffect,Ze=$e.useMemo,et=function(e){var t=e.label,r=e.onClick,n=Ke(e,Fe);return React.createElement("a",qe({onClick:r,href:"#",style:{textDecoration:"none"}},n),t)},tt=[{value:"24",name:"hour",label:Me.HISTORICAL.TWENTY_FOUR_HOURS},{value:"1",name:"week",label:Me.HISTORICAL.ONE_WEEK},{value:"1",name:"month",label:Me.HISTORICAL.ONE_MONTH},{value:"6",name:"month",label:Me.HISTORICAL.SIX_MONTH},{value:"1",name:"year",label:Me.HISTORICAL.ONE_YEAR},{value:"10",name:"years",label:Me.HISTORICAL.TEN_YEARS}];const rt=function(e){var t=We(Je(),2),r=t[0],n=t[1],a=We(Je(Ae()().subtract(1,"week")),2),o=a[0],i=a[1],c=We(Je(),2),l=c[0],s=c[1],u=We(Je(),2),f=u[0],h=u[1],p=We(Je(),2),m=p[0],y=p[1],d=Ze((function(){return tt.map((function(e){var t=Ae()().subtract(e.value,e.name);return ze(ze({},e),{},{fromDate:t,fromDateFormat:t.format("YYYYMMDD")})}))}),[]),g=function(){var t,n=(t=Ue().mark((function t(){var n,a,i;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s(),!r||!o){t.next=8;break}return null===(n=e.onUpdate)||void 0===n||n.call(e),t.next=6,e.getAnalyticsData(r,o);case 6:a=t.sent,y(a);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),s(t.t0);case 13:return t.prev=13,null===(i=e.onUpdated)||void 0===i||i.call(e),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Ve(o,n,a,i,c,"next",e)}function c(e){Ve(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),v={legend:{position:"bottom"},scales:{yAxes:[{ticks:{callback:function(e){return Ge(e)}}}]},tooltips:{callbacks:{label:function(e){return" "+Ge(e.value)}}}};return Qe((function(){g()}),[r,o]),Qe((function(){return n(e.viewId)}),[e.viewId]),Qe((function(){return h(e.visible)}),[e.visible]),f?React.createElement("div",{class:"meow-analytics-dashboard-block"},React.createElement("div",{style:{marginBottom:"10px"}},d.map((function(e,t){return o.format("YYYYMMDD")===e.fromDateFormat?React.createElement("span",{key:t},e.label):React.createElement(et,{key:t,onClick:function(){return i(e.fromDate)},label:e.label})})).map((function(e,t){return React.createElement(React.Fragment,null,e," ",t+1===d.length?"":React.createElement(React.Fragment,null," |Â "))}))),React.createElement(Pe,{error:l,reset:function(){return g()}}),!l&&m&&React.createElement(Le.N1,{data:m,options:v})):null};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function at(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */at=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==nt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(nt(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function ot(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lt=wp.element,st=lt.useState,ut=lt.useEffect,ft={activeNow:{textAlign:"center",fontSize:"34px",color:"#007cba",marginBottom:"10px",lineHeight:"20px"}};const ht=function(e){var t,r=it(st(null),2),n=r[0],a=r[1],o=it(st(),2),i=o[0],c=o[1],l=it(st(!1),2),s=l[0],u=l[1],f=it(st(!0),2),h=f[0],p=f[1],m=it(st(),2),y=m[0],d=m[1],g=it(st(),2),v=g[0],w=g[1],b=function(){var t,r=(t=at().mark((function t(){var r,a,o,i;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n){t.next=12;break}return t.next=4,Promise.all([e.getActivityPerMinutes(n),e.getRealtimeActivity(n)]);case 4:r=t.sent,a=it(r,2),o=a[0],i=a[1],p(!1),d(o),w({users:i.users,pages:i.pages}),setTimeout((function(){return p(!0)}),1e4);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),c(t.t0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){ot(o,n,a,i,c,"next",e)}function c(e){ot(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),E={animate:!1,legend:{display:!1},scales:{xAxes:[{categoryPercentage:1,barPercentage:1}],yAxes:[{ticks:{callback:function(e){return Ge(e)}}}]},tooltips:{callbacks:{label:function(e){return" "+Ge(e.value)}}}};return ut((function(){return a(e.viewId)}),[e.viewId]),ut((function(){return u(e.visible)}),[e.visible]),ut((function(){!i&&n&&s&&h&&b()}),[i,n,s,h]),s?React.createElement("div",{class:"meow-analytics-dashboard-block"},React.createElement(Pe,{error:i,reset:function(){return c(null)}}),!i&&v&&y&&React.createElement("div",null,React.createElement("div",{style:ft.activeNow},v.users,React.createElement("br",null),React.createElement("small",{style:{fontSize:"14px"}},Me.REALTIME.ACTIVE_USERS_ON_SITE)),React.createElement("div",null,React.createElement("div",{style:{marginBottom:"10px"}},React.createElement(Le.yP,{data:y,options:E})),React.createElement("table",{style:{marginBottom:"10px"},class:"wp-list-table widefat striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("td",null,e.isGA4?Me.REALTIME.STREAM_NAME:Me.REALTIME.PAGE),React.createElement("td",{style:{width:"40px"}},Me.REALTIME.USERS))),React.createElement("tbody",null,null===(t=v.pages)||void 0===t?void 0:t.map((function(e){return React.createElement("tr",null,React.createElement("td",null,e.page),React.createElement("td",null,e.users))}))))))):null};function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==pt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(pt(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function yt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){gt(o,n,a,i,c,"next",e)}function c(e){gt(o,n,a,i,c,"throw",e)}i(void 0)}))}}var wt=function(){var e=vt(mt().mark((function e(t){var r,n,a,o,i=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(i.length>1&&void 0!==i[1]?i[1]:null)||Ae()().subtract(7,"day"),n=Ae()().subtract(1,"day"),a=n.diff(r,"month"),o=n.diff(r,"day"),e.abrupt("return",new Promise((function(e,i){var c="ga:hour";a>12?c="ga:year":a>1?c="ga:yearMonth":o>1&&(c="ga:date"),gapi.client.analytics.data.ga.get({ids:"ga:"+t,"start-date":"ga:hour"===c?"today":r.format("YYYY-MM-DD"),"end-date":"ga:hour"===c?"today":n.format("YYYY-MM-DD"),metrics:"ga:users,ga:sessions,ga:pageviews",dimensions:c}).execute((function(t){var r=[],n=[],a=[],o=[];if(t.error)i(t.error);else{var c,l=yt(t.rows);try{for(l.s();!(c=l.n()).done;){var s=c.value,u=s[0];8===u.length?u=Ae()(u).format("MMM DD"):6===u.length?u=Ae()(u+"01").format("MMM YYYY"):u.length,r.push(u),n.push(s[1]),a.push(s[2]),o.push(s[3])}}catch(e){l.e(e)}finally{l.f()}e({labels:r,datasets:[{label:Me.ANALYTICS.USERS,borderColor:"rgba(100, 169, 241, 1)",backgroundColor:"rgba(100, 169, 241, 0.2)",fill:!1,data:n},{label:Me.ANALYTICS.SESSIONS,borderColor:"rgba(241, 188, 100, 1)",backgroundColor:"rgba(241, 188, 100, 0.2)",fill:!1,data:a},{label:Me.ANALYTICS.VIEWS,borderColor:"rgba(37, 180, 125, 1)",backgroundColor:"rgba(37, 180, 125, 0.2)",fill:!1,data:o}]})}}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=vt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=gapi.client.analytics.data.realtime.get({ids:"ga:"+t,metrics:"rt:pageviews",dimensions:"rt:minutesAgo"}),a=function(e){return Ae()().subtract(e,"minute").format("HH:mm")};n.execute((function(t){var n=[],o=[];if(t.error)r(t.error);else{for(var i=function(e){var r,i=null===(r=t.rows)||void 0===r?void 0:r.find((function(t){return parseInt(t[0])===e}));n.push(a(i?parseInt(i[0]):e)),o.push(i?parseInt(i[1]):0)},c=0;c<30;c++)i(c);n=n.reverse(),o=o.reverse();var l={labels:n,datasets:[{label:Me.ANALYTICS.VIEWS,borderWidth:{top:5,left:0,right:0,bottom:0},borderColor:"rgba(100, 169, 241, 1)",backgroundColor:"rgba(100, 169, 241, 0.75)",fill:!0,data:o}]};e(l)}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=vt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){gapi.client.analytics.data.realtime.get({ids:"ga:"+t,metrics:"rt:activeUsers",dimensions:"rt:pagePath"}).execute((function(t){var r,n=null===(r=t.rows)||void 0===r?void 0:r.map((function(e){return{page:e[0],users:parseInt([1])}}));e({users:parseInt(t.totalsForAllResults?t.totalsForAllResults["rt:activeUsers"]:0),pages:n})}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==St(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(St(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function _t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function It(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Ot(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){It(o,n,a,i,c,"next",e)}function c(e){It(o,n,a,i,c,"throw",e)}i(void 0)}))}}var kt=function(){var e=Ot(Rt().mark((function e(t){var r,n,a,o,i,c,l,s,u,f,h,p,m,y,d,g,v,w=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(w.length>1&&void 0!==w[1]?w[1]:null)||Ae()().subtract(7,"day"),n=Ae()().subtract(1,"day"),a=n.diff(r,"month"),o=n.diff(r,"day"),i="hour",a>12?i="year":a>1?i="yearMonth":o>1&&(i="date"),e.prev=7,e.next=10,gapi.client.request({path:"v1beta/properties/".concat(t,":runReport"),root:"https://analyticsdata.googleapis.com/",method:"POST",body:{metrics:[{name:"totalUsers"},{name:"sessions"},{name:"screenPageViews"}],dimensions:[{name:i}],dateRanges:[{startDate:"hour"===i?Ae()().subtract(1,"day").format("YYYY-MM-DD"):r.format("YYYY-MM-DD"),endDate:"hour"===i?Ae()().subtract(1,"day").format("YYYY-MM-DD"):n.format("YYYY-MM-DD")}],orderBys:[{dimension:{dimensionName:i,orderType:"ALPHANUMERIC"},desc:!0}],keepEmptyRows:!0}});case 10:if(c=e.sent,(l=c.result).rows){e.next=14;break}throw Me.ANALYTICS.NO_DATA_FOUND;case 14:s=[],u=[],f=[],h=[],p=_t(l.rows.reverse());try{for(p.s();!(m=p.n()).done;)y=m.value,d=y.dimensionValues,g=y.metricValues,8===(v=d[0].value).length?v=Ae()(v).format("MMM DD"):6===v.length?v=Ae()(v+"01").format("MMM YYYY"):v.length,s.push(v),u.push(g[0].value),f.push(g[1].value),h.push(g[2].value)}catch(e){p.e(e)}finally{p.f()}return e.abrupt("return",{labels:s,datasets:[{label:Me.ANALYTICS.USERS,borderColor:"rgba(100, 169, 241, 1)",backgroundColor:"rgba(100, 169, 241, 0.2)",fill:!1,data:u},{label:Me.ANALYTICS.SESSIONS,borderColor:"rgba(241, 188, 100, 1)",backgroundColor:"rgba(241, 188, 100, 0.2)",fill:!1,data:f},{label:Me.ANALYTICS.VIEWS,borderColor:"rgba(37, 180, 125, 1)",backgroundColor:"rgba(37, 180, 125, 0.2)",fill:!1,data:h}]});case 23:if(e.prev=23,e.t0=e.catch(7),"object"!==St(e.t0)||!e.t0.result||!e.t0.result.error){e.next=29;break}throw e.t0.result.error.message;case 29:if("string"!=typeof e.t0){e.next=31;break}throw e.t0;case 31:throw Me.ANALYTICS.UNKNOWN_ERROR;case 32:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Ot(Rt().mark((function e(t){var r,n,a,o,i,c,l,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.request({path:"v1beta/properties/".concat(t,":runRealtimeReport"),root:"https://analyticsdata.googleapis.com/",method:"POST",body:{metrics:[{name:"screenPageViews"}],dimensions:[{name:"minutesAgo"}]}});case 3:for(r=e.sent,n=function(e){return Ae()().subtract(e,"minute").format("HH:mm")},a=r.result,o=[],i=[],c=0;c<30;c++)l=a.rows&&a.rows[c]?a.rows[c]:{dimensionValues:[{}],metricValues:[{}]},s=l.dimensionValues,u=l.metricValues,o.push(s[0].value?n(parseInt(s[0].value)):n(c)),i.push(u[0].value?parseInt(u[0].value):0);return o=o.reverse(),i=i.reverse(),e.abrupt("return",{labels:o,datasets:[{label:Me.ANALYTICS.VIEWS,borderWidth:{top:5,left:0,right:0,bottom:0},borderColor:"rgba(100, 169, 241, 1)",backgroundColor:"rgba(100, 169, 241, 0.75)",fill:!0,data:i}]});case 14:if(e.prev=14,e.t0=e.catch(0),"object"!==St(e.t0)||!e.t0.result||!e.t0.result.error){e.next=20;break}throw e.t0.result.error.message;case 20:if("string"!=typeof e.t0){e.next=22;break}throw e.t0;case 22:throw Me.ANALYTICS.UNKNOWN_ERROR;case 23:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Ot(Rt().mark((function e(t){var r,n,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.request({path:"v1beta/properties/".concat(t,":runRealtimeReport"),root:"https://analyticsdata.googleapis.com/",method:"POST",body:{metrics:[{name:"activeUsers"}],dimensions:[{name:"streamName"}]}});case 3:if(n=e.sent,(a=n.result).rows){e.next=7;break}return e.abrupt("return",{users:0,pages:[]});case 7:return o=null===(r=a.rows)||void 0===r?void 0:r.map((function(e){var t=e.dimensionValues,r=e.metricValues;return{page:t[0].value,users:parseInt(r[0].value)}})),e.abrupt("return",{users:o.reduce((function(e,t){return e+t.users}),0),pages:o});case 11:if(e.prev=11,e.t0=e.catch(0),"object"!==St(e.t0)||!e.t0.result||!e.t0.result.error){e.next=17;break}throw e.t0.result.error.message;case 17:if("string"!=typeof e.t0){e.next=19;break}throw e.t0;case 19:throw Me.ANALYTICS.UNKNOWN_ERROR;case 20:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nt=wp.element,Pt=Nt.Fragment,Gt=Nt.useState,Dt={tab:{display:"flex",justifyContent:"start",marginBottom:"10px",boxSizing:"border-box",borderRadius:"10px;"},tabItem:{padding:"2px 10px",marginRight:"5px",color:"white",cursor:"pointer",background:"#64a9f1"},tabItemActive:{padding:"2px 10px",marginRight:"5px",color:"white",cursor:"pointer",background:"#007cba"}},Ct=function(e){var t=e.tab,r=e.setTab,n=e.busy;return React.createElement("div",{style:Dt.tab},React.createElement("div",{style:"historical"===t?Dt.tabItemActive:Dt.tabItem,onClick:function(){return r("historical")}},Me.DASHBOARD.HISTORICAL),React.createElement("div",{style:"realtime"===t?Dt.tabItemActive:Dt.tabItem,onClick:function(){return r("realtime")}},Me.DASHBOARD.REALTIME),n&&React.createElement("span",{className:"spinner",style:{textAlign:"right",flex:1,visibility:"visible",margin:"1px 0px",backgroundPosition:"right"}}))};const Mt=function(){var e=At(Gt(!1),2),t=e[0],r=e[1],o=At(Gt(),2),i=o[0],c=o[1],l=At(Gt("historical"),2),s=l[0],u=l[1],f=At(Gt(!1),2),h=f[0],p=f[1],m=h?a:n;return React.createElement(Pt,null,React.createElement(Ct,{tab:s,setTab:u,busy:t}),React.createElement(Pt,null,React.createElement(rt,{visible:"historical"===s,viewId:i,onUpdate:function(){return r(!0)},onUpdated:function(){return r(!1)},getAnalyticsData:m.getUsersSessionsViews}),React.createElement(ht,{visible:"realtime"===s,viewId:i,isGA4:h,getActivityPerMinutes:m.getActivityPerMinutes,getRealtimeActivity:m.getRealtimeActivity})),React.createElement(je,{onSignIn:function(e,t){c(e),p(t)},onSignOut:function(){return c(null)}}))};var Yt=r(5592),Ft=r(8696),Ut=r(7213),Vt=r(1543);function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function zt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:I(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function g(){}function v(){}function w(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(A([])));R&&R!==r&&n.call(R,i)&&(b=R);var S=w.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,i,c){var l=f(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Xt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function I(t,r,n){var a=h;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=O(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=f(t,r,n);if("normal"===s.type){if(a=n.done?y:p,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Xt(t)+" is not iterable")}return v.prototype=w,a(S,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,l,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Kt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qt(o,n,a,i,c,"next",e)}function c(e){qt(o,n,a,i,c,"throw",e)}i(void 0)}))}}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qt=wp.element,Zt=Qt.useState,er=Qt.useMemo,tr=Qt.useEffect;const rr=function(){var e,t,r,n,a,o,i,c,l=(0,Yt.Ay)("".concat(O,"/all_settings/"),x.m9),s=l.data,u=l.mutate,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=$t(Zt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),2),n=r[0],a=r[1],o=$t(Zt(null),2),i=o[0],c=o[1],l=$t(Zt(t),2),s=l[0],u=l[1],f=$t(Zt(0),2),h=f[0],p=f[1];return tr((function(){void 0!==e&&(e.success?(c(null),a(e.data),p(e.total?e.total:0)):c(e.error)),u(void 0===e)}),[e]),{busy:s,data:n,total:h,error:i}}(s,{},!0),h=f.busy,p=f.data,m=f.error,I=$t(Zt(!1),2),k=I[0],N=I[1],P=$t(Zt(!1),2),G=P[0],D=P[1],C=h||k||G,M=null!==(e=null==p?void 0:p.mga_tracking_id)&&void 0!==e?e:"",Y=null!==(t=null==p?void 0:p.mga_property_id)&&void 0!==t?t:"",F=null!==(r=null==p?void 0:p.mga_tracking_ids)&&void 0!==r?r:"",U=null==p?void 0:p.mga_disable_tracking,V=null==p?void 0:p.mga_track_logged_users,X=null==p?void 0:p.mga_track_power_users,z=null!==(n=null==p?void 0:p.mga_client_id)&&void 0!==n?n:"",H=null!==(a=null==p?void 0:p.mga_client_secret)&&void 0!==a?a:"",W=null!==(o=null==p?void 0:p.mga_is_linked)&&void 0!==o&&o,B=null!==(i=null==p?void 0:p.mga_message)&&void 0!==i?i:"",q=null!==(c=null==p?void 0:p.mga_error)&&void 0!==c?c:"",K=M.length>0&&"G-"===M.substring(0,2),$=function(){var e=Kt(zt().mark((function e(t,r){var n;return zt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wt({},s.data))[r]=t,u(Wt(Wt({},s),{},{data:n}),!1),N(!0),e.prev=4,e.next=7,(0,x.Tb)("".concat(O,"/update_option"),{json:{name:r,value:t}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert(e.t0.message);case 12:return e.prev=12,N(!1),u(),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[4,9,12,16]])})));return function(t,r){return e.apply(this,arguments)}}(),J=React.createElement(d.d,{title:Me.SETTINGS.ANALYTICS_ID},React.createElement(Ft.A,{name:"mga_tracking_id",value:M,description:Me.SETTINGS.ANALYTICS_ID_DESCRIPTION,onBlur:$,placeholder:Me.SETTINGS.ANALYTICS_ID_PLACEHOLDER})),Q=React.createElement(d.d,{title:Me.SETTINGS.PROPERTY_ID},React.createElement(Ft.A,{name:"mga_property_id",value:Y,onBlur:$,placeholder:Me.SETTINGS.PROPERTY_ID_PLACEHOLDER})),Z=React.createElement(d.d,{title:Me.SETTINGS.EXTRA_IDS},React.createElement(Ft.A,{name:"mga_tracking_ids",value:F,description:Me.SETTINGS.EXTRA_IDS_DESCRIPTION,onBlur:$,placeholder:Me.SETTINGS.EXTRA_IDS_DESCRIPTION})),ee=React.createElement(d.d,{title:Me.SETTINGS.LOGGED_IN_USERS},React.createElement(g.E,{max:"1"},React.createElement(v.R,{name:"mga_track_logged_users",label:Me.SETTINGS.LOGGED_IN_USERS_LABEL,value:"1",disabled:U,checked:!U&&V,onChange:$,description:Me.SETTINGS.LOGGED_IN_USERS_DESCRIPTION}))),te=React.createElement(d.d,{title:Me.SETTINGS.EDITORS_ADMINS},React.createElement(g.E,{max:"1"},React.createElement(v.R,{name:"mga_track_power_users",label:Me.SETTINGS.EDITORS_ADMINS_LABEL,value:"1",disabled:U||!V,checked:!U&&V&&X,onChange:$,description:Me.SETTINGS.EDITORS_ADMINS_DESCRIPTION}))),re=React.createElement(d.d,{title:Me.SETTINGS.TRACKING},React.createElement(g.E,{max:"1"},React.createElement(v.R,{name:"mga_disable_tracking",label:Me.SETTINGS.TRACKING_LABEL,value:"1",checked:U,onChange:$,description:Me.SETTINGS.TRACKING_DESCRIPTION}))),ne=React.createElement(d.d,{title:Me.SETTINGS.CLIENT_ID},React.createElement(Ft.A,{name:"mga_client_id",value:z,onBlur:$,placeholder:Me.SETTINGS.CLIENT_ID_PLACEHOLDER})),ae=React.createElement(d.d,{title:Me.SETTINGS.CLIENT_SECRET},React.createElement(Ft.A,{name:"mga_client_secret",value:H,onBlur:$})),oe=React.createElement(y.s,{p:!0},(0,x.FE)(Me.SETTINGS.STATUS_IDLE)),ie=React.createElement(React.Fragment,null,React.createElement(y.s,{p:!0},(0,x.FE)(Me.SETTINGS.STATUS_READY_DISCRIPTION)),React.createElement(y.s,{p:!0},Me.SETTINGS.AUTHORIZED_JAVASCRIPT_ORIGINS,React.createElement("br",null),React.createElement("b",null,T)),React.createElement(y.s,{p:!0},Me.SETTINGS.AUTHORIZED_REDIRECT_URIS,React.createElement("br",null),React.createElement("b",null,A)),React.createElement(S.M,{onClick:function(){return location.href=L}},Me.SETTINGS.LINK_WITH_GOOGLE_ANALYTICS)),ce=function(){var e=Kt(zt().mark((function e(){return zt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,(0,x.Tb)("".concat(O,"/refresh_token"),{nonce:j});case 3:u(),D(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Kt(zt().mark((function e(){return zt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,(0,x.Tb)("".concat(O,"/unlink"),{nonce:j});case 3:u(),D(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=React.createElement(React.Fragment,null,React.createElement(y.s,{p:!0},Me.SETTINGS.STATUS_CONNECTED_DISCRIPTION),React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(S.M,{className:"secondary",onClick:ce},Me.SETTINGS.REFRESH_TOKEN),React.createElement(S.M,{className:"secondary",onClick:le},Me.SETTINGS.UNLINK))),ue=er((function(){return z&&H?W?se:ie:oe}),[z,H,W]),fe=er((function(){return B?React.createElement(Ut.X,{variant:"success"},B):null}),[B]),he=er((function(){return q?React.createElement(Ut.X,{variant:"danger"},q):null}),[q]);return React.createElement(w.z,{nekoErrors:[m]},React.createElement(b.n,{title:"".concat(Me.COMMON.PLUGIN_NAME," | ").concat(Me.COMMON.SETTINGS),subtitle:Me.COMMON.BY_JORDY_MEOW}),React.createElement(E.N,null,React.createElement(E.Y,{fullWidth:!0},fe,he,React.createElement(Vt.L,null,React.createElement(y.s,{p:!0},(0,x.FE)(Me.SETTINGS.DESCRIPTION))),React.createElement(R._,null,React.createElement(R.V,{title:Me.SETTINGS.SETTINGS},React.createElement(E.N,null,React.createElement(E.Y,{minimal:!0},React.createElement(_.z,{busy:C,title:Me.SETTINGS.GOOGLE_ANALYTICS,className:"primary"},J,K&&Q,ee,te,re),React.createElement(_.z,{busy:C,title:Me.SETTINGS.ADVANCED,className:"primary"},Z)),React.createElement(E.Y,{minimal:!0},React.createElement(_.z,{busy:C,title:Me.SETTINGS.GOOGLE_DEVELOPERS_CONSOLE,className:"primary"},ne,ae,ue))))))))};var nr=wp.element.render,ar=new u.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1,placeholderData:function(e){return e}}}}),or=function(){return meowAnalytics.debug_mode&&(meowAnalytics.getNextRefresh=function(){var e=(new Date).getTime()/1e3,t=meowAnalytics.expires_at-e,r=Math.round(t/60);return r>0?"Meow Analytics: ".concat(r,"mn left before next token refresh."):t>0?"Meow Analytics: ".concat(t,"s left before next token refresh."):t}),React.createElement(Mt,null)};document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("meow-analytics-container");t&&nr(React.createElement(h.A,null,React.createElement(or,null)),t);var r=document.getElementById("meow-analytics-settings");r&&nr(React.createElement(h.A,null,React.createElement(rr,null)),r);var n=document.getElementById("meow-common-dashboard");n&&nr(React.createElement(f.Ht,{client:ar},React.createElement(h.A,null,React.createElement(de,null))),n)}))},5358:(e,t,r)=>{var n={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":4858,"./fo.js":4858,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=5358},1594:e=>{"use strict";e.exports=React}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],c=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={57:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,c,l]=r,s=0;if(i.some((t=>0!==e[t]))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(l)var u=l(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.wpJsonMga=self.wpJsonMga||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var a=n.O(void 0,[121],(()=>n(1399)));a=n.O(a)})();
//# sourceMappingURL=index.js.map